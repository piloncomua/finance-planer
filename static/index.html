<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
    <link rel="stylesheet" href="style.css?v=10">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>üìä –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h1>
            <p class="subtitle">–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Å–≤–æ–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –±—É–¥—É—â–µ–µ</p>
        </header>

        <div id="editDataContainer" style="display: none; text-align: center; margin-bottom: 20px;">
            <button class="btn-secondary" id="editDataBtn">
                ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
            </button>
        </div>

        <div id="formCard" class="card">
            <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á–µ—Ç–∞</h2>
            <form id="calculatorForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="initialCapital">
                            üí∞ –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª ($)
                            <span class="hint">–°–∫–æ–ª—å–∫–æ —É –≤–∞—Å –µ—Å—Ç—å —Å–µ–π—á–∞—Å</span>
                        </label>
                        <input type="text" id="initialCapital" name="initialCapital" inputmode="numeric"
                            placeholder="10 000" required>
                    </div>

                    <div class="form-group">
                        <label for="monthlyIncome">
                            üíµ –ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥ ($)
                            <span class="hint">–í–∞—à –æ–±—â–∏–π –¥–æ—Ö–æ–¥</span>
                        </label>
                        <input type="text" id="monthlyIncome" name="monthlyIncome" inputmode="numeric"
                            placeholder="3 000" required>
                    </div>

                    <div class="form-group">
                        <label for="monthlyLivingExpenses">
                            üè† –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –∂–∏–∑–Ω—å ($)
                            <span class="hint">–°–∫–æ–ª—å–∫–æ —Ç—Ä–∞—Ç–∏—Ç–µ —Å–µ–π—á–∞—Å</span>
                        </label>
                        <input type="text" id="monthlyLivingExpenses" name="monthlyLivingExpenses" inputmode="numeric"
                            placeholder="1 500" required>
                    </div>

                    <div class="form-group">
                        <label for="interestRate">
                            üìä –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∫–∞–ø–∏—Ç–∞–ª–∞ (%)
                        </label>
                        <input type="number" id="interestRate" name="interestRate" placeholder="8" min="0" max="100"
                            step="0.1" required>
                        <div class="field-note">
                            <strong>–û—Ä–∏–µ–Ω—Ç–∏—Ä—ã –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–æ–ª–≥–æ—Å—Ä–æ–∫:</strong><br>
                            ‚Ä¢ 2-5% ‚Äî –î–µ–ø–æ–∑–∏—Ç—ã (–Ω–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Ñ–ª—è—Ü–∏—é)<br>
                            ‚Ä¢ 5-9,5% ‚Äî –û–±–ª–∏–≥–∞—Ü–∏–∏ (–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏/–∏–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ)<br>
                            ‚Ä¢ 7-15% ‚Äî –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (–∞—Ä–µ–Ω–¥–∞ + —Ä–æ—Å—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏)<br>
                            ‚Ä¢ 8-12% ‚Äî S&amp;P 500 / –º–∏—Ä–æ–≤—ã–µ ETF (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ ~11% –¥–æ –∏–Ω—Ñ–ª—è—Ü–∏–∏)<br>
                            ‚Ä¢ 12%+ ‚Äî –ê–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫, —Ä–µ–¥–∫–æ —É—Å—Ç–æ–π—á–∏–≤–æ –≤ –¥–æ–ª–≥–æ—Å—Ä–æ–∫)<br><br>
                            üí° –°–æ–≤–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 7-9% –∫–∞–∫ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π.<br>
                            –õ—É—á—à–µ –ø—Ä–∏—è—Ç–Ω–æ —É–¥–∏–≤–∏—Ç—å—Å—è, —á–µ–º —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞—Ç—å—Å—è.
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="currentAge">
                            üéÇ –¢–µ–∫—É—â–∏–π –≤–æ–∑—Ä–∞—Å—Ç
                        </label>
                        <input type="number" id="currentAge" name="currentAge" placeholder="30" min="0" max="150"
                            required>
                    </div>

                    <!-- –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –ø–µ–Ω—Å–∏–∏ -->
                    <div class="form-group full-width">
                        <label>üèñÔ∏è –†–µ–∂–∏–º –≤—ã—Ö–æ–¥–∞ –Ω–∞ –ø–µ–Ω—Å–∏—é</label>
                        <div class="mode-switch-container">
                            <label class="mode-label">
                                <input type="radio" name="retirement_mode" value="manual" checked>
                                <span>–Ø —Ö–æ—á—É –Ω–∞ –ø–µ–Ω—Å–∏—é –≤...</span>
                            </label>
                            <label class="mode-label">
                                <input type="radio" name="retirement_mode" value="auto">
                                <span>–ê–≤—Ç–æ-–ø–æ–∏—Å–∫ (4%)</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group" id="retirementAgeGroup">
                        <label for="retirementAge">
                            üìÖ –í–æ–∑—Ä–∞—Å—Ç –≤—ã—Ö–æ–¥–∞ –Ω–∞ –ø–µ–Ω—Å–∏—é
                        </label>
                        <input type="number" id="retirementAge" name="retirementAge" placeholder="45" min="0" max="150">
                    </div>

                    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                    <div class="advanced-toggle" id="advancedToggle">
                        <span>‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                        <span class="toggle-icon">‚ñº</span>
                    </div>

                    <div class="advanced-content" id="advancedContent" style="display: none;">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="incomeGrowthRate">
                                    üìà –†–æ—Å—Ç –¥–æ—Ö–æ–¥–æ–≤ (%)
                                    <span class="hint">–ï–∂–µ–≥–æ–¥–Ω—ã–π —Ä–æ—Å—Ç –≤–∞—à–µ–π –∑–∞—Ä–ø–ª–∞—Ç—ã</span>
                                </label>
                                <input type="number" id="incomeGrowthRate" name="incomeGrowthRate" value="3" min="0"
                                    max="100" step="0.1" required>
                            </div>

                            <div class="form-group">
                                <label for="inflationRate">
                                    üìâ –ò–Ω—Ñ–ª—è—Ü–∏—è (%)
                                    <span class="info-trigger-inflation" title="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏">‚ÑπÔ∏è</span>
                                    <span class="hint">–°—Ä–µ–¥–Ω–µ–≥–æ–¥–æ–≤–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è</span>
                                </label>
                                <input type="number" id="inflationRate" name="inflationRate" value="3" min="0" max="70"
                                    step="0.1" required>
                                <div id="inflationTooltip" class="custom-tooltip" style="display: none;">
                                    –ò–Ω—Ñ–ª—è—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥–µ–Ω–µ–≥. –í —Ä–∞—Å—á–µ—Ç–∞—Ö –≤–∞—à–∏ –±—É–¥—É—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã
                                    —Ä–∞—Å—Ç—É—Ç –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –∫–∞–∂–¥—ã–π –≥–æ–¥.
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="maxAge">
                                    ‚è≥ –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞
                                </label>
                                <input type="number" id="maxAge" name="maxAge" value="90" min="0" max="200" required>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn-primary" id="calculateBtn">
                        <span class="btn-icon">üöÄ</span>
                        –†–∞—Å—Å—á–∏—Ç–∞—Ç—å
                    </button>
                    <button type="button" class="btn-secondary" id="resetBtn" style="margin-top: 10px; width: 100%;">
                        üîÑ –°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                    </button>
                </div>
            </form>
        </div>

        <div id="resultsSection" class="results-section" style="display: none;">
            <div class="card">
                <h2>üìà –ì—Ä–∞—Ñ–∏–∫ —Ä–æ—Å—Ç–∞ –∫–∞–ø–∏—Ç–∞–ª–∞</h2>
                <div class="chart-container">
                    <canvas id="capitalChart"></canvas>
                </div>
                <div id="chartLegend" class="chart-legend" style="display: none;">
                    <div class="legend-item">
                        <span class="legend-dot safe"></span>
                        <span class="legend-text">–ë–µ–∑–æ–ø–∞—Å–Ω–æ (< 4%)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-dot warning"></span>
                        <span class="legend-text">–ü–µ—Ä–µ—Ö–æ–¥ (4-6%)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-dot danger"></span>
                        <span class="legend-text">–û–ø–∞—Å–Ω–æ (> 6%)</span>
                    </div>
                </div>
            </div>

            <div class="card summary-card">
                <h2>üìä –ò—Ç–æ–≥</h2>
                <div id="summaryContent"></div>
            </div>

            <!-- –†–µ–∫–ª–∞–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
            <div class="promo-buttons">
                <a href="#" id="youtubeBtn" class="btn-promo btn-youtube" target="_blank">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg"
                        alt="YouTube" class="btn-logo">
                    –ú–æ–π YouTube –∫–∞–Ω–∞–ª
                </a>
                <a href="#" id="freedomBtn" class="btn-promo btn-freedom" target="_blank">
                    <img src="https://freedom24.com/apple-touch-icon.png" alt="Freedom24" class="btn-logo">
                    –ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å Freedom24
                </a>
            </div>

            <div style="text-align: center; margin: 20px 0;">
                <button class="btn-secondary" id="toggleTableBtn">
                    üìã –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
                </button>
            </div>

            <div id="tableContainer" class="card" style="display: none;">
                <h2>üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã</h2>
                <div class="table-container">
                    <table id="resultsTable">
                        <thead>
                            <tr>
                                <th>–í–æ–∑—Ä–∞—Å—Ç</th>
                                <th>–ö–∞–ø–∏—Ç–∞–ª –Ω–∞ –Ω–∞—á–∞–ª–æ ($)</th>
                                <th>–î–æ—Ö–æ–¥ % ($)</th>
                                <th>–°–±–µ—Ä–µ–∂–µ–Ω–∏—è ($)</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p>–°—á–∏—Ç–∞–µ–º...</p>
        </div>
    </div>

    <script src="app.js?v=10"></script>
</body>

</html>